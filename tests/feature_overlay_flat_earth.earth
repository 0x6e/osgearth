<!--
osgEarth Sample

This one demonstrates how to read feature data from a shapefile and project
it on to the map as an overlay model.

The "feature_overlay" driver creates an osgSim::OverlayNode. 

NOTE:
In a flat-earth (projected) terrain, the preferred overlay technique
(view-dependent with perspective overlay) does not work. The only one that
seems to work is the object-dependent with orthographic overlay. (The 
preferred technique works in a round-earth model.) This limits the 
utility of this technique.
-->

<map name="Feature Overlay Demo" type="projected">
    
    <profile>global-geodetic</profile>
    
    <image name="world" driver="gdal">
        <url>../data/world.tif</url>
    </image>
    
    <model name="states" driver="feature_overlay">

        <!-- Configure the OGR feature driver to read the shapefile -->
        <features name="states" driver="ogr">
            <url>../data/usa.shp</url>
            <ogr_driver>ESRI Shapefile</ogr_driver>
        </features>
        
        <!-- Convert polygons to lines;
             Comment this out to drape the polys instead -->
        <geometry_type>line</geometry_type>
            
        <!-- Customize the parameters of the projected overlay (osgSim::OverlayNode) -->
        <texture_size>2048</texture_size>
        <texture_unit>1</texture_unit>           
        
        <!-- This is the only technique that works on a flat terrain -->
        <overlay_technique>object_dependent_with_orthographic_overlay</overlay_technique>
        
        <!-- A default feature class for styling the geometry. -->
        <style type="text/css">
            states {
               stroke: #ffff00;
               stroke-width: 1.0;
               fill:   #ff0000;
               fill-opacity: 0.4;
            }            
        </style>
        
    </model>
    
    <lighting>false</lighting>
  
</map>
