#IF   (DYNAMIC_OSGEARTH)
#    ADD_DEFINITIONS(-DOSGEARTH_LIBRARY)
#ELSE (DYNAMIC_OSGEARTH)
    ADD_DEFINITIONS(-DOSGEARTH_LIBRARY_STATIC)
#ENDIF(DYNAMIC_OSGEARTH)
SET(LIB_NAME osgEarth)

SET(HEADER_PATH ${OSGEARTH_SOURCE_DIR}/include/${LIB_NAME})
SET(LIB_PUBLIC_HEADERS
    Common
    Export
    GeocentricTileBuilder
    Mercator
    PlateCarre    
    TileGridProfile
)

ADD_LIBRARY(${LIB_NAME} STATIC
#    ${OSGEARTH_USER_DEFINED_DYNAMIC_OR_STATIC}
    ${LIB_PUBLIC_HEADERS}
    GeocentricTileBuilder.cpp
    Mercator.cpp
    PlateCarre.cpp
    TileGridProfile.cpp
    Version.cpp
)

INCLUDE_DIRECTORIES(${OSG_INCLUDE_DIRS} )

IF (WIN32)
  LINK_EXTERNAL(${LIB_NAME}  ${CMAKE_THREAD_LIBS_INIT} ${MATH_LIBRARY} )
ELSE(WIN32)
  LINK_EXTERNAL(${LIB_NAME}  ${CMAKE_THREAD_LIBS_INIT} ${MATH_LIBRARY} )
ENDIF(WIN32)

LINK_WITH_VARIABLES(${LIB_NAME} OSG_LIBRARY OSGUTIL_LIBRARY OSGSIM_LIBRARY OSGTERRAIN_LIBRARY OSGDB_LIBRARY OSGFX_LIBRARY OSGVIEWER_LIBRARY OSGTEXT_LIBRARY OSGGA_LIBRARY OPENTHREADS_LIBRARY)
LINK_CORELIB_DEFAULT(${LIB_NAME} ${CMAKE_THREAD_LIBS_INIT} ${MATH_LIBRARY} )

INCLUDE(ModuleInstall OPTIONAL)
