#ifndef OSGEARTH_GEOGRAPHIC_TILE_BUILDER_H
#define OSGEARTH_GEOGRAPHIC_TILE_BUILDER_H 1

#include <osgEarth/Common>
#include <osgEarth/TileBuilder>

namespace osgEarth
{
    //note: no export (package internal)
    /**
     * This tile builder creates tiles in the "Geographic" projection, which
     * is really a single, flat Plate Carre projection in which x=long, y=lat.
     */
    class GeographicTileBuilder : public TileBuilder
    {
    public:
        GeographicTileBuilder( 
            MapConfig* map, 
            const std::string& url_template,
            const osgDB::ReaderWriter::Options* options =NULL);
        
    protected:
        bool addChildren( osg::Group* parent, const TileKey* key );

        osg::Node* createQuadrant( const TileKey* key );

        std::string getProj4String() const;


        /*
         *Scales the given heightfield's elevation values from meters to degrees
         *@param hf
         *     The heightfield to scale
         */
        static void scaleHeightFieldToDegrees(osg::HeightField* hf);
    };
}

#endif // OSGEARTH_GEOGRAPHIC_TILE_BUILDER_H